{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Pandora Aperture","text":""},{"location":"dispersedprf/","title":"<code>DispersedPRF</code> API Documentation","text":"<p>               Bases: <code>pandoraaperture.prf.PRF</code></p> <p>Special case where PRF is dispersed in a line</p> <p>Special PRF class for making Pixel Response Functions that is dispersed across pixels.</p> <p>Parameters:</p> Name Type Description Default <code>trace_row</code> <p>Row position within the spectral trace that corresponds to each element in the flux array. Units of pixels.</p> required <code>trace_column</code> <p>Column position within the spectral trace that corresponds to each element in the flux array. Units of pixels.</p> required <code>flux</code> <p>Array of the flux of the PRF as a function of position. Usually normalized such that the total flux is 1.</p> required <code>pixel_size</code> <p>True detector pixel size in dimensions of length/pixel</p> required <code>sub_pixel_size</code> <p>PSF file pixel size in dimensions of length/pixel</p> required <code>scale</code> <p>How much to scale the PRF by. Scale of 2 makes the PSF 2x broader. Default is 1.</p> <code>1</code> <code>imshape</code> <p>Tuple of the shape of the true image. If using ROIs, use the shape of the image that each ROI is cut out from. Use format (row, column).</p> <code>(400, 80)</code> <code>imcorner</code> <p>Tuple of the lower left corner of the image, i.e. it's origin. Use this to move the image around on the grid. If using a window mode, make sure to set this to the right corner. Use format (row, column).</p> <code>(0, 0)</code>"},{"location":"dispersedprf/#pandoraaperture.prf.DispersedPRF.evaluate","title":"<code>evaluate(location=None, normalize=True, gradients=False)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code> <code>normalize</code> <p>Whether to normalize the input data so that the total flux is 1.</p> <code>True</code> <code>gradients</code> <p>Whether to return gradients. If True, will return an additional 2 arrays that contain the gradients in each axis.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>row_im</code> <code>ndarray</code> <p>1D Array of integer row values at which the PRF is evaluated.</p> <code>column_im</code> <code>ndarray</code> <p>1D Array of integer column values at which the PRF is evaluated.</p> <code>prf_im</code> <code>ndarray</code> <p>2D Array of PRF values.</p> <code>dprf_im</code> <code>ndarray</code> <p>2, 2D arrays of the gradient of the PRF values. Only returned if <code>gradients</code>=True.</p>"},{"location":"dispersedprf/#pandoraaperture.prf.DispersedPRF.from_file","title":"<code>from_file(file)</code>  <code>classmethod</code>","text":"<p>Load a PRF object from a file.</p> <p>Parameters:</p> Name Type Description Default <code>file</code> <p>Input file to use. Choose either a string path to the file or an <code>astropy.fits.HDUList</code> object</p> required"},{"location":"dispersedprf/#pandoraaperture.prf.DispersedPRF.from_reference","title":"<code>from_reference(name)</code>  <code>classmethod</code>","text":"<p>Load a PRF from <code>pandoraref</code>.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Name of detector, choose from VISDA or NIRDA.</p> required"},{"location":"dispersedprf/#pandoraaperture.prf.DispersedPRF.plot","title":"<code>plot(**kwargs)</code>","text":"<p>Plots the PRF. Use this functon to visually inspect the PRF.</p>"},{"location":"dispersedprf/#pandoraaperture.prf.DispersedPRF.to_sparse3d","title":"<code>to_sparse3d(location=None, normalize=True, gradients=False)</code>","text":"<p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code> <code>normalize</code> <p>Whether to normalize the input data so that the total flux is 1.</p> <code>True</code> <code>gradients</code> <p>Whether to return gradients. If True, will return an additional 2 arrays that contain the gradients in each axis.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>X</code> <code>Sparse3D</code> <p>Sparse3D object containing the PRF at a given location.</p> <code>dX0</code> <code>Sparse3D</code> <p>Sparse3D object containing the gradient of the PRF in axis 0 at a given location. Only returned if <code>gradients</code>=True.</p> <code>dX1</code> <code>Sparse3D</code> <p>Sparse3D object containing the gradient of the PRF in axis 1 at a given location. Only returned if <code>gradients</code>=True.</p>"},{"location":"dispersedskyscene/","title":"<code>DispersedSkyScene</code> API Documentation","text":"<p>               Bases: <code>pandoraaperture.scene.SkyScene</code></p> <p>Special version of a SkyScene that works with dispersed PRFs</p> <p>Parameters:</p> Name Type Description Default <code>prf</code> <code>PRF</code> <p>pandoraaperture PRF class.</p> required <code>wcs</code> <code>WCS</code> <p>astropy World Coordinate System</p> required <code>time</code> <code>Time</code> <p>astropy Time</p> required <code>user_cat</code> <code>DataFrame</code> <p>Optional catalog from the user. Use this to pass a catalog of objects expected in this data that are not part of the Gaia catalog. You must include all the columns specified in your config file under <code>catalog_columns</code>.</p> <code>None</code>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.NIRDAflux","title":"<code>NIRDAflux</code>  <code>property</code>","text":"<p>Gives the flux on the NIRDA. This can be updated with a reference product in the future...!</p>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.VDAflux","title":"<code>VDAflux</code>  <code>property</code>","text":"<p>Gives the flux on the VDA. This can be updated with a reference product in the future...!</p>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.flux","title":"<code>flux</code>  <code>property</code>","text":"<p>Here we set the flux that is assumed to be the default for this object. For dispersed sky scenes it's NIRDA.</p>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.header_cards","title":"<code>header_cards</code>  <code>property</code>","text":"<p>Header cards that are necessary to show state of package.</p>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.wcs_cards","title":"<code>wcs_cards</code>  <code>property</code>","text":"<p>Returns the WCS header as cards.</p>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.A","title":"<code>A(delta_pos=None)</code>","text":"<p>Returns the design matrix of the SkyScene.</p> <p>Parameters:</p> Name Type Description Default <code>A</code> <p>Matrix containing the PRFs of all targets in the scene.</p> required <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.from_pointing","title":"<code>from_pointing(ra, dec, theta, time=&lt;Time object: scale='utc' format='datetime' value=2025-11-12 22:57:33.561330&gt;)</code>  <code>classmethod</code>","text":"<p>Parameters:</p> Name Type Description Default <code>ra</code> <p>Right Ascention</p> required <code>dec</code> <p>Declination</p> required <code>theta</code> <p>Roll angle in degrees</p> required <code>time</code> <p>astropy Time</p> <code>&lt;Time object: scale='utc' format='datetime' value=2025-11-12 22:57:33.561330&gt;</code>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.get_aperture_hdu","title":"<code>get_aperture_hdu(target, delta_pos=None, threshold=0.5)</code>","text":"<p>Obtain the aperture HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the aperture, with aperture metrics in header.</p> <p>Parameters:</p> Name Type Description Default <code>target</code> <p>Indicates a target in the catalog. Use either in integer to express an index in the catalog, or a SkyCoord to find the closest target</p> required <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code> <code>threshold</code> <p>Threshold to cut aperture off at, in units of electrons/s.</p> <code>0.5</code>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.get_catalog_hdu","title":"<code>get_catalog_hdu(delta_pos=None)</code>","text":"<p>Obtain the catalog HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the catalog of all sources that will land on pixels.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.get_model_hdu","title":"<code>get_model_hdu(delta_pos=None)</code>","text":"<p>Obtain the model HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the model of all sources, including their brightness.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"dispersedskyscene/#pandoraaperture.scene.DispersedSkyScene.get_prf_hdu","title":"<code>get_prf_hdu(delta_pos=None)</code>","text":"<p>Obtain the PRF HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the  of all sources that will land on pixels.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"prf/","title":"<code>PRF</code> API Documentation","text":"<p>Pixel Response Function class</p> <p>PRF class for making Pixel Response Functions.</p> <p>Parameters:</p> Name Type Description Default <code>flux</code> <p>Array of the flux of the PRF as a function of position. Usually normalized such that the total flux is 1.</p> required <code>pixel_size</code> <p>True detector pixel size in dimensions of length/pixel</p> required <code>sub_pixel_size</code> <p>PSF file pixel size in dimensions of length/pixel</p> required <code>scale</code> <p>How much to scale the PRF by. Scale of 2 makes the PSF 2x broader. Default is 1.</p> <code>1</code> <code>imshape</code> <p>Tuple of the shape of the true image. If using ROIs, use the shape of the image that each ROI is cut out from. Use format (row, column).</p> <code>(2048, 2048)</code> <code>imcorner</code> <p>Tuple of the lower left corner of the image, i.e. it's origin. Use this to move the image around on the grid. If using a window mode, make sure to set this to the right corner. Use format (row, column).</p> <code>(0, 0)</code>"},{"location":"prf/#pandoraaperture.prf.PRF.evaluate","title":"<code>evaluate(location=None, normalize=True, gradients=False)</code>","text":"<p>Evaluate the PRF model for a target at a given location on the detector.</p> <p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code> <code>normalize</code> <p>Whether to normalize the input data so that the total flux is 1.</p> <code>True</code> <code>gradients</code> <p>Whether to return gradients. If True, will return an additional 2 arrays that contain the gradients in each axis.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>row_im</code> <code>ndarray</code> <p>1D Array of integer row values at which the PRF is evaluated.</p> <code>column_im</code> <code>ndarray</code> <p>1D Array of integer column values at which the PRF is evaluated.</p> <code>prf_im</code> <code>ndarray</code> <p>2D Array of PRF values.</p> <code>dprf_im</code> <code>ndarray</code> <p>2, 2D arrays of the gradient of the PRF values. Only returned if <code>gradients</code>=True.</p>"},{"location":"prf/#pandoraaperture.prf.PRF.from_file","title":"<code>from_file(file)</code>  <code>classmethod</code>","text":"<p>Load a PRF object from a file.</p> <p>Parameters:</p> Name Type Description Default <code>file</code> <p>Input file to use. Choose either a string path to the file or an <code>astropy.fits.HDUList</code> object</p> required"},{"location":"prf/#pandoraaperture.prf.PRF.from_reference","title":"<code>from_reference(name)</code>  <code>classmethod</code>","text":"<p>Load a PRF from <code>pandoraref</code>.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Name of detector, choose from VISDA or NIRDA.</p> required"},{"location":"prf/#pandoraaperture.prf.PRF.plot","title":"<code>plot(**kwargs)</code>","text":"<p>Plots the PRF. Use this functon to visually inspect the PRF.</p>"},{"location":"prf/#pandoraaperture.prf.PRF.to_sparse3d","title":"<code>to_sparse3d(location=None, normalize=True, gradients=False)</code>","text":"<p>Converts this <code>PRF</code> object to a <code>Sparse3D</code> object.</p> <p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code> <code>normalize</code> <p>Whether to normalize the input data so that the total flux is 1.</p> <code>True</code> <code>gradients</code> <p>Whether to return gradients. If True, will return an additional 2 arrays that contain the gradients in each axis.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>X</code> <code>Sparse3D</code> <p>Sparse3D object containing the PRF at a given location.</p> <code>dX0</code> <code>Sparse3D</code> <p>Sparse3D object containing the gradient of the PRF in axis 0 at a given location. Only returned if <code>gradients</code>=True.</p> <code>dX1</code> <code>Sparse3D</code> <p>Sparse3D object containing the gradient of the PRF in axis 1 at a given location. Only returned if <code>gradients</code>=True.</p>"},{"location":"roiskyscene/","title":"<code>ROISkyScene</code> API Documentation","text":"<p>               Bases: <code>pandoraaperture.scene.SkyScene</code></p> <p>Special version of a SkyScene that works with a ROI sparse matrix</p> <p>Parameters:</p> Name Type Description Default <code>prf</code> <code>PRF</code> <p>pandoraaperture PRF class.</p> required <code>wcs</code> <code>WCS</code> <p>astropy World Coordinate System</p> required <code>time</code> <code>Time</code> <p>astropy Time</p> required <code>user_cat</code> <code>DataFrame</code> <p>Optional catalog from the user. Use this to pass a catalog of objects expected in this data that are not part of the Gaia catalog. You must include all the columns specified in your config file under <code>catalog_columns</code>.</p> <code>None</code> <code>nROIs</code> <code>int</code> <p>The number of regions of interest in the larger image</p> <code>1</code> <code>ROI_size</code> <code>Tuple</code> <p>The size the regions of interest in (row, column) pixels. All ROIs must be the same size.</p> <code>(50, 50)</code> <code>ROI_corners</code> <code>List[Tuple[int, int]]</code> <p>The origin (lower left) corner positon for each of the ROIs. Must have length nROIs. List of tuples.</p> <code>(999, 999)</code>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.NIRDAflux","title":"<code>NIRDAflux</code>  <code>property</code>","text":"<p>Gives the flux on the NIRDA. This can be updated with a reference product in the future...!</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.ROI_corners","title":"<code>ROI_corners = (999, 999)</code>  <code>class</code>","text":"<p>Built-in immutable sequence.</p> <p>If no argument is given, the constructor returns an empty tuple. If iterable is specified the tuple is initialized from iterable's items.</p> <p>If the argument is a tuple, the return value is the same object.</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.ROI_size","title":"<code>ROI_size = (50, 50)</code>  <code>class</code>","text":"<p>Built-in immutable sequence.</p> <p>If no argument is given, the constructor returns an empty tuple. If iterable is specified the tuple is initialized from iterable's items.</p> <p>If the argument is a tuple, the return value is the same object.</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.VDAflux","title":"<code>VDAflux</code>  <code>property</code>","text":"<p>Gives the flux on the VDA. This can be updated with a reference product in the future...!</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.flux","title":"<code>flux</code>  <code>property</code>","text":"<p>Here we set the flux that is assumed to be the default for this object. For regular sky scenes it's VDA.</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.header_cards","title":"<code>header_cards</code>  <code>property</code>","text":"<p>Header cards that are necessary to show state of package.</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.nROIs","title":"<code>nROIs = 1</code>  <code>class</code>","text":"<p>int([x]) -&gt; integer int(x, base=10) -&gt; integer</p> <p>Convert a number or string to an integer, or return 0 if no arguments are given.  If x is a number, return x.int().  For floating point numbers, this truncates towards zero.</p> <p>If x is not a number or if base is given, then x must be a string, bytes, or bytearray instance representing an integer literal in the given base.  The literal can be preceded by '+' or '-' and be surrounded by whitespace.  The base defaults to 10.  Valid bases are 0 and 2-36. Base 0 means to interpret the base from the string as an integer literal.</p> <p>int('0b100', base=0) 4</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.wcs_cards","title":"<code>wcs_cards</code>  <code>property</code>","text":"<p>Returns the WCS header as cards.</p>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.A","title":"<code>A(delta_pos=None)</code>","text":"<p>Returns the design matrix of the SkyScene.</p> <p>Parameters:</p> Name Type Description Default <code>A</code> <p>Matrix containing the PRFs of all targets in the scene.</p> required <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.from_pointing","title":"<code>from_pointing(ra, dec, theta, time=&lt;Time object: scale='utc' format='datetime' value=2025-11-12 22:57:33.562452&gt;)</code>  <code>classmethod</code>","text":"<p>Parameters:</p> Name Type Description Default <code>ra</code> <p>Right Ascention</p> required <code>dec</code> <p>Declination</p> required <code>theta</code> <p>Roll angle in degrees</p> required <code>time</code> <p>astropy Time</p> <code>&lt;Time object: scale='utc' format='datetime' value=2025-11-12 22:57:33.562452&gt;</code>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.get_aperture_hdu","title":"<code>get_aperture_hdu(target, delta_pos=None, threshold=0.5)</code>","text":"<p>Obtain the aperture HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the aperture, with aperture metrics in header.</p> <p>Parameters:</p> Name Type Description Default <code>target</code> <p>Indicates a target in the catalog. Use either in integer to express an index in the catalog, or a SkyCoord to find the closest target</p> required <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code> <code>threshold</code> <p>Threshold to cut aperture off at, in units of electrons/s.</p> <code>0.5</code>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.get_catalog_hdu","title":"<code>get_catalog_hdu(delta_pos=None)</code>","text":"<p>Obtain the catalog HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the catalog of all sources that will land on pixels.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.get_model_hdu","title":"<code>get_model_hdu(delta_pos=None)</code>","text":"<p>Obtain the model HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the model of all sources, including their brightness.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"roiskyscene/#pandoraaperture.scene.ROISkyScene.get_prf_hdu","title":"<code>get_prf_hdu(delta_pos=None)</code>","text":"<p>Obtain the PRF HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the  of all sources that will land on pixels.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"skyscene/","title":"<code>SkyScene</code> API Documentation","text":"<p>               Bases: <code>pandoraaperture.fits.FITSMixins</code></p> <p>Helper that takes astronomy catalogs and makes them a scene</p> <p>Parameters:</p> Name Type Description Default <code>prf</code> <code>PRF</code> <p>pandoraaperture PRF class.</p> required <code>wcs</code> <code>WCS</code> <p>astropy World Coordinate System</p> required <code>time</code> <code>Time</code> <p>astropy Time</p> required <code>user_cat</code> <code>DataFrame</code> <p>Optional catalog from the user. Use this to pass a catalog of objects expected in this data that are not part of the Gaia catalog. You must include all the columns specified in your config file under <code>catalog_columns</code>.</p> <code>None</code>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.NIRDAflux","title":"<code>NIRDAflux</code>  <code>property</code>","text":"<p>Gives the flux on the NIRDA. This can be updated with a reference product in the future...!</p>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.VDAflux","title":"<code>VDAflux</code>  <code>property</code>","text":"<p>Gives the flux on the VDA. This can be updated with a reference product in the future...!</p>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.flux","title":"<code>flux</code>  <code>property</code>","text":"<p>Here we set the flux that is assumed to be the default for this object. For regular sky scenes it's VDA.</p>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.header_cards","title":"<code>header_cards</code>  <code>property</code>","text":"<p>Header cards that are necessary to show state of package.</p>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.wcs_cards","title":"<code>wcs_cards</code>  <code>property</code>","text":"<p>Returns the WCS header as cards.</p>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.A","title":"<code>A(delta_pos=None)</code>","text":"<p>Returns the design matrix of the SkyScene.</p> <p>Parameters:</p> Name Type Description Default <code>A</code> <p>Matrix containing the PRFs of all targets in the scene.</p> required <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.from_pointing","title":"<code>from_pointing(ra, dec, theta, time=&lt;Time object: scale='utc' format='datetime' value=2025-11-12 22:57:33.561330&gt;)</code>  <code>classmethod</code>","text":"<p>Parameters:</p> Name Type Description Default <code>ra</code> <p>Right Ascention</p> required <code>dec</code> <p>Declination</p> required <code>theta</code> <p>Roll angle in degrees</p> required <code>time</code> <p>astropy Time</p> <code>&lt;Time object: scale='utc' format='datetime' value=2025-11-12 22:57:33.561330&gt;</code>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.get_aperture_hdu","title":"<code>get_aperture_hdu(target, delta_pos=None, threshold=0.5)</code>","text":"<p>Obtain the aperture HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the aperture, with aperture metrics in header.</p> <p>Parameters:</p> Name Type Description Default <code>target</code> <p>Indicates a target in the catalog. Use either in integer to express an index in the catalog, or a SkyCoord to find the closest target</p> required <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code> <code>threshold</code> <p>Threshold to cut aperture off at, in units of electrons/s.</p> <code>0.5</code>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.get_catalog_hdu","title":"<code>get_catalog_hdu(delta_pos=None)</code>","text":"<p>Obtain the catalog HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the catalog of all sources that will land on pixels.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.get_model_hdu","title":"<code>get_model_hdu(delta_pos=None)</code>","text":"<p>Obtain the model HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the model of all sources, including their brightness.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"skyscene/#pandoraaperture.scene.SkyScene.get_prf_hdu","title":"<code>get_prf_hdu(delta_pos=None)</code>","text":"<p>Obtain the PRF HDU.</p> <p>Returns:</p> Name Type Description <code>hdu</code> <code>hdu</code> <p>FITS HDU containing the  of all sources that will land on pixels.</p> <p>Parameters:</p> Name Type Description Default <code>delta_pos</code> <p>Change in position in pixels. Use format (row, column).</p> <code>None</code>"},{"location":"spatialprf/","title":"<code>SpatialPRF</code> API Documentation","text":"<p>               Bases: <code>pandoraaperture.prf.PRF</code></p> <p>Special case where the PRF is a function of focal plane position.</p> <p>Special PRF class for making Pixel Response Functions that change as a function of focal plane position.</p> <p>Parameters:</p> Name Type Description Default <code>focal_row</code> <p>Row position on the focal plane that corresponds to each element in the flux array. Units of pixels.</p> required <code>focal_column</code> <p>Column position on the focal plane that corresponds to each element in the flux array. Units of pixels.</p> required <code>flux</code> <p>Array of the flux of the PRF as a function of position. Usually normalized such that the total flux is 1.</p> required <code>pixel_size</code> <p>True detector pixel size in dimensions of length/pixel</p> required <code>sub_pixel_size</code> <p>PSF file pixel size in dimensions of length/pixel</p> required <code>scale</code> <p>How much to scale the PRF by. Scale of 2 makes the PSF 2x broader. Default is 1.</p> <code>1</code> <code>imshape</code> <p>Tuple of the shape of the true image. If using ROIs, use the shape of the image that each ROI is cut out from. Use format (row, column).</p> <code>(2048, 2048)</code> <code>imcorner</code> <p>Tuple of the lower left corner of the image, i.e. it's origin. Use this to move the image around on the grid. If using a window mode, make sure to set this to the right corner. Use format (row, column).</p> <code>(0, 0)</code>"},{"location":"spatialprf/#pandoraaperture.prf.SpatialPRF.evaluate","title":"<code>evaluate(location=None, normalize=True, gradients=False)</code>","text":"<p>Evaluate the PRF model for a target at a given location on the detector.</p> <p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code> <code>normalize</code> <p>Whether to normalize the input data so that the total flux is 1.</p> <code>True</code> <code>gradients</code> <p>Whether to return gradients. If True, will return an additional 2 arrays that contain the gradients in each axis.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>row_im</code> <code>ndarray</code> <p>1D Array of integer row values at which the PRF is evaluated.</p> <code>column_im</code> <code>ndarray</code> <p>1D Array of integer column values at which the PRF is evaluated.</p> <code>prf_im</code> <code>ndarray</code> <p>2D Array of PRF values.</p> <code>dprf_im</code> <code>ndarray</code> <p>2, 2D arrays of the gradient of the PRF values. Only returned if <code>gradients</code>=True.</p>"},{"location":"spatialprf/#pandoraaperture.prf.SpatialPRF.from_file","title":"<code>from_file(file)</code>  <code>classmethod</code>","text":"<p>Load a PRF object from a file.</p> <p>Parameters:</p> Name Type Description Default <code>file</code> <p>Input file to use. Choose either a string path to the file or an <code>astropy.fits.HDUList</code> object</p> required"},{"location":"spatialprf/#pandoraaperture.prf.SpatialPRF.from_reference","title":"<code>from_reference(name)</code>  <code>classmethod</code>","text":"<p>Load a PRF from <code>pandoraref</code>.</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>Name of detector, choose from VISDA or NIRDA.</p> required"},{"location":"spatialprf/#pandoraaperture.prf.SpatialPRF.plot","title":"<code>plot(**kwargs)</code>","text":"<p>Plots the PRF. Use this functon to visually inspect the PRF.</p>"},{"location":"spatialprf/#pandoraaperture.prf.SpatialPRF.to_PRF","title":"<code>to_PRF(location=None)</code>","text":"<p>Converts a spatial PRF into a PRF evaluated at a single location, making it faster to compute multiple PRFs, if necessary.</p> <p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code>"},{"location":"spatialprf/#pandoraaperture.prf.SpatialPRF.to_sparse3d","title":"<code>to_sparse3d(location=None, normalize=True, gradients=False)</code>","text":"<p>Converts this <code>PRF</code> object to a <code>Sparse3D</code> object.</p> <p>Parameters:</p> Name Type Description Default <code>location</code> <p>Location of the source on the detector. Use format (row, column). If not set will default to <code>self._default_location</code> which is in the middle of the image as set by <code>imshape</code> and <code>imcorner</code>.</p> <code>None</code> <code>normalize</code> <p>Whether to normalize the input data so that the total flux is 1.</p> <code>True</code> <code>gradients</code> <p>Whether to return gradients. If True, will return an additional 2 arrays that contain the gradients in each axis.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>X</code> <code>Sparse3D</code> <p>Sparse3D object containing the PRF at a given location.</p> <code>dX0</code> <code>Sparse3D</code> <p>Sparse3D object containing the gradient of the PRF in axis 0 at a given location. Only returned if <code>gradients</code>=True.</p> <code>dX1</code> <code>Sparse3D</code> <p>Sparse3D object containing the gradient of the PRF in axis 1 at a given location. Only returned if <code>gradients</code>=True.</p>"}]}